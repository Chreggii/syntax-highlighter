@startuml
skinparam defaultFontName CMU Serif

package "Annotation WebService" {
  frame "exposed network" {
    [Frontend] as FrontendService
    
    () "REST API" as PAPIAPI
    [Public API] as PAPI
    PAPIAPI -  PAPI
  }
  
  frame "internal network" {

    () "Rest API" as MLTAPI
    [ML trainer] as MLT
    MLTAPI -- MLT

    () "Rest API" as SHAPI
    [Syntax Highlighter] as SH
    SHAPI -- SH
    
    () "Rest API" as MLCAPI
    [ML classifier] as MLC
    MLCAPI -- MLC

    database " " {
      [PostgreSQL] as PSQL
    }
    
    storage "ML storage" as MS
  }
  
  
  FrontendService -> PAPIAPI
 
  PAPI --( SHAPI :uses
  PAPI --( MLCAPI :uses
  MLT - PSQL :uses
  SH --( MLTAPI :uses
  MLC -( SHAPI :uses
  MS - MLT
  MLC -- MS
  
}
@enduml